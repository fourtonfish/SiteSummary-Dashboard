var myApp=angular.module("myApp",[]);myApp.controller("DataCtrl",["$scope","$http",function(r,e){r.data=[],r.reloader={icon:"fa fa-refresh fa-spin",currentStep:0,totalSteps:99},r.siteSummary=function(){r.data=[],r.reloader.icon="fa fa-refresh fa-spin",r.reloader.currentStep=0;for(var t in r.urls)!function(t){e.get("http://fourtonfish.com/sitesummary?url="+r.urls[t]+"&social=true").success(function(e){e.image||(e.image="http://fourtonfish.com/1px.png"),r.data.push({url:r.urls[t].replace(/http(s)?:\/\//,"").replace(/\/*$/,""),data:e}),r.reloader.currentStep++,r.reloader.currentStep===r.reloader.totalSteps&&(r.reloader.icon="fa fa-refresh")})}(t)},e.get("urls.txt").success(function(e){r.urls=e.split("\n"),r.siteSummary(),r.reloader={icon:"fa fa-refresh",currentStep:0,totalSteps:r.urls.length}})}]),myApp.directive("scrolltotop",function(){return function(r,e){e.bind("click",function(r){return r.preventDefault(),$("html,body").animate({scrollTop:0},700),!1})}});